{"version":3,"sources":["index.js"],"names":["getUrlKey","name","decodeURIComponent","RegExp","exec","location","href","replace","Vue","code","uri","encodeURI","me","ajax","redirectUri","res","accessToken","access_token","data","uid","response","accountName","url","type"],"mappings":";AAAA,SAASA,EAAUC,GACRC,OAAAA,oBAAoB,IAAIC,OAAO,QAAUF,EAAO,uBAA4BG,KAAKC,SAASC,QAAY,CAAA,KAAK,GAAGC,QAAQ,MAAO,SAAW,KAEnJ,IAAIC,KACI,GAAA,OACE,MACO,SAAA,EACJ,IAAA,IAEA,QAAA,WACDC,IAAAA,EAAOT,EAAU,QACjBU,EAAMC,UAAU,qBAChBC,EAAK,KACN,GAACH,EAIEI,EAAAA,MACQ,KAAA,MACD,IAAA,0BACC,MAACJ,KAAMA,EAAKK,YAAaJ,GACrB,SAAA,OACD,QAAA,SAAUK,GACXC,IAAAA,EAAcD,EAAIE,aACpBJ,EAAAA,MACQ,KAAA,MACD,IAAA,6BACC,MAACG,YAAaA,GACV,SAAA,OACD,QAAA,SAAUE,GACZC,EAAAA,IAAMD,EAAKE,SAASC,sBAjBlC,CACDC,IAAAA,EAAM,8HAA8HZ,EAAI,yBACrIL,OAAAA,SAASC,KAAOgB,IAsBtB,SACQ,YAAA,SAAUC,GAChB,KAAKJ,MACGd,OAAAA,SAASC,KAAO,mBAAmB,KAAKa,IAAI,SAASI","file":"parking.38f2928e.map","sourceRoot":"..","sourcesContent":["function getUrlKey(name) {\n    return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [, \"\"])[1].replace(/\\+/g, '%20')) || null\n}\nnew Vue({\n    el: '#app',\n    data: {\n        visible: false,\n        uid: ''\n    },\n    created: function() {\n        var code = getUrlKey('code');\n        var uri = encodeURI('http://localhost/');\n        var me = this;\n        if(!code){\n            var url = 'http://beta.zuolin.com/evh/oauth2/authorize?response_type=code&client_id=6eb13de4-6227-45c1-886b-1506b3627c6c&redirect_uri='+uri+'&scope=basic&state=xyz';\n            window.location.href = url;\n        }else{\n            $.ajax({\n                type: \"GET\",\n                url: '/xsparking/sso/getToken',\n                data: {code: code,redirectUri: uri},\n                dataType: \"json\",\n                success: function (res) {\n                    var accessToken = res.access_token;\n                    $.ajax({\n                        type: \"GET\",\n                        url: '/xsparking/sso/getUserInfo',\n                        data: {accessToken: accessToken},\n                        dataType: \"json\",\n                        success: function (data) {\n                            me.uid = data.response.accountName;\n                        }\n                    });\n                }\n            });\n        }\n    },\n    methods: {\n        changeLimit: function (type) {\n            if(this.uid) {\n                window.location.href = './scan.html?uid='+this.uid+'&type='+type;\n            }\n        }\n    }\n})"]}